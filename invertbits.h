

unsigned  invert(unsigned  x, int p, int n)
{
   return ( ((~x>>(p-n)) & ~(~0<<n)) << (p-n) ) | 
       ( x & (~(~(~0<<n) << (p-n))) ); 
}


// x          10110101
// y          00001111
// 
// ~0         11111111
// ~0<<n      11111000
// ~(~0<<n)   00000111
